{
  "actorSpecification": 1,
  "name": "ibhs-cert-downloader",
  "title": "IBHS Certificate Downloader (n8n Ready)",
  "version": "0.2",
  "buildTag": "latest",
  "dockerfile": "Dockerfile",
  "input": {
    "title": "Input",
    "type": "object",
    "schemaVersion": 1,
    "properties": {
      "loginUrl": {
        "title": "Login URL",
        "type": "string",
        "default": "https://app.ibhs.org/fh",
        "editor": "textfield",
        "description": "Starting URL for the IBHS app login page."
      },
      "address": {
        "title": "Single Address",
        "type": "string",
        "editor": "textfield",
        "default": "520 Novatan Rd S, Mobile, AL 36608",
        "description": "Single address to search for (n8n will pass this dynamically)."
      },
      "politeDelayMs": {
        "title": "Baseline delay (ms)",
        "type": "integer",
        "default": 800,
        "editor": "number",
        "description": "Base delay (with random jitter) between actions."
      },
      "debug": {
        "title": "Debug mode (headed & snapshots)",
        "type": "boolean",
        "default": false,
        "editor": "checkbox",
        "description": "When true, runs Playwright headed and saves snapshots."
      },
      "returnStructuredData": {
        "title": "Return structured data",
        "type": "boolean",
        "default": true,
        "editor": "checkbox",
        "description": "Return certificate data as structured JSON for n8n to process."
      },
      "username": {
        "title": "IBHS username (LOCAL TEST ONLY)",
        "type": "string",
        "editor": "textfield",
        "description": "Local runs only. In Cloud, set IBHS_USERNAME secret."
      },
      "password": {
        "title": "IBHS password (LOCAL TEST ONLY)",
        "type": "string",
        "editor": "textfield",
        "description": "Local runs only. In Cloud, set IBHS_PASSWORD secret."
      }
    },
    "required": ["address"]
  }
}
